<!DOCTYPE html>
<html>
  <head>
    <title>Porrith Suong</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.47.1" />
<title>Vector Math :: Porrith Suong</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<meta name="description" content="Math utility functions I found helpful with development">



    
  </head>
  <body data-url="/notes/vector-math/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="/">Porrith Suong</a>
  

  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://medium.com/@psuong95"  rel="noopener">
                  <i class='fa fa-book'></i> <label>Blog</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://github.com/psuong"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github</label>
                </a>
            </li>
            <li class="" role="">
                <a href="suong-porrith-resume.pdf"  rel="noopener">
                  <i class='fa fa-cloud-download'></i> <label>Resume</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/games/" class="dd-item
        ">
      <div>
      <a href="/games/">Games</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/notes/" class="dd-item parent haschildren
        ">
      <div>
      <a href="/notes/">Notes</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/notes/vector-math/" class="dd-item active">
        <div>
          <a href="/notes/vector-math/">
            Vector Math
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/tools/" class="dd-item
        ">
      <div>
      <a href="/tools/">Tools</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/games/" >
   Games</option>
    <option value="/notes/" >
   Notes</option> 
      <option value="/notes/vector-math/"  selected>- Vector Math</option>
  
    <option value="/tools/" >
   Tools</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>Vector Math</h1>
    
    
    
    

<p>While building games, here are a series of math functions which I found incredibly useful. For the below
content to be relevant to Unity, you can find the git submodule below:</p>

<ul>
<li><a href="https://github.com/psuong/math-utils">Math-Utils</a></li>
</ul>

<h1 id="table-of-contents">Table of Contents</h1>

<ul>
<li><a href="#Vectors">Vectors</a>

<ul>
<li><a href="#basics-of-position-direction">Basics of Position &amp; Direction</a></li>
<li><a href="#more-fun-things-with-direction">More Fun Things With Direction</a>

<ul>
<li><a href="#direction-relative-of">Direction Relative Of</a></li>
</ul></li>
</ul></li>
</ul>

<h1 id="vectors">Vectors</h1>

<p>Vectors represent any object which has a magnitude and a position. Consider the cartesian coordinate system
on a 3D plane which is usually denoted by like the following <code>(x, y, z)</code>.</p>

<h2 id="basics-of-position-direction">Basics of Position &amp; Direction</h2>

<p>A standalone vector can simply represent a point in some space and that&rsquo;s it. To get any other pieces of
info from that standalone vector, there should be more vectors to derive more info.</p>

<p>Consider two vectors,</p>

<ul>
<li>A (-1, 0, 0)</li>
<li>B (0, 0, 1)</li>
</ul>

<p>the <strong>direction</strong> from <code>A -&gt; B</code> is simply the subtraction of <code>B - A</code>, (-1, 0, 1). To get the inverse direction,
simply reverse the order of subtraction to <code>A - B</code>.</p>

<pre><code>The formula for getting a direction from a source to a destination is simply:

direction = destination - source
</code></pre>

<p>Additionally, if we have a point and a direction we can find the source or destination point in the following
manner.</p>

<pre><code>Finding the source:
source = destination - direction

Finding the destination:
destination = source + direction
</code></pre>

<h2 id="more-fun-things-with-direction">More Fun Things With Direction</h2>

<p>Now that the basics are out of the way we can do more complicated things with direction. Imagine building an
in-game agent which has to steer towards a particular direction.</p>

<p>Given <strong>2</strong> directions, we can find the angle between them (additionally, this means that we supposedly have 3+
positions used to calculate the <strong>2</strong> directions).</p>

<p>This is usually denoted by the following:</p>

<pre><code>cos (theta) = (A . B) / (||A|| + ||B||)
</code></pre>

<p>where,</p>

<ul>
<li><code>A</code> and <code>B</code> is a directional vector</li>
<li><code>.</code> means the (dot product)[] of the two vectors</li>
<li><code>||A||</code> and <code>||B||</code> means the magnitude of the vectors <code>A</code> and <code>B</code></li>
</ul>

<p>When getting the value <code>theta</code>, do note that theta is in <strong>radians</strong>. Since, it is easier to think in terms of
 °, we can multiply:</p>

<pre><code>degrees = (theta) * 180/PI
</code></pre>

<div class="notices note" ><p>The angle returned is most likely an acute angle, meaning the range is between 0° and 180°. So, an
angle of <strong>270°</strong> will return <strong>90°</strong>.</p>
</div>


<h3 id="direction-relative-of">Direction Relative Of</h3>

<p>Imagine having a chair to the left of you, you know the chair is clearly left of you because it&rsquo;s next to your
left hand. Now if you turned 90° to the right, is the chair still left of your relative forward? No, it&rsquo;s
now behind you. Using this concept, we can determine the relative direction of a destination to its source in
<strong>local space</strong>.</p>

<p>If we use the aforementioned formula stated above, we can just get an acute angle, since 270° is really just
-90°. Of course, we can try to modify the math to convert -90° to 270°, or we can just determine the sign
to make determining the relative direction less complicated. To do this, we need the:</p>

<ul>
<li>cross product</li>
<li>dot product</li>
</ul>

<p>With two directions, by finding the cross product we determine a vector perpendicular two the directions. As such,
determining the dot product between a normal vector and the perpendicular vector will determine the sign.</p>

<div class="notices note" ><p>Dot products returns a scalar value from two vectors. When a dot product is:</p>

<ul>
<li>0, then we know that the direction and the normal is perpendicular.</li>
<li>1, then we know that the angle between the direction and the normal is less than 90 degrees.</li>
<li>-1, then we know that the angle between the direction and the normal is greater than 90 degrees.</li>
</ul>
</div>


<p>The pseudocode of a function can be written as below to help determine if a position in 3D space is left, right,
forward, or backward of a relative forward direction.</p>

<pre><code>int GetRelativeDirection(vector3 forward, vector3 direction, vector3 normal) {
    var perpendicular = cross(forward, direction);
    var relativeDirection = dot(perpendicular, normal);

    var sign = 0;

    if (relativeDirection &gt; 0.0)
        sign = 1;
    else if (relativeDirection &lt; 0f)
        sign = -1;

    return sign;
}
</code></pre>

<p>Therefore a position left of the forward would return as -1 and a position right of the forward would return as 1.</p>

<div class="notices warning" ><p>Visualizations of these transformations are coming! I just need more time to compile it and create gifs.</p>
</div>



    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/notes/" title="Notes"> <i class="fa fa-chevron-left"></i><label>Notes</label></a>
    <a class="nav nav-next" href="/tools/" title="Tools" style="margin-right: 0px;"><label>Tools</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

  

    <div class="github-link">
      <a href="notes/vector-math.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>

    

    
    

    
  </body>
</html>